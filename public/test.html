<!DOCTYPE html>
<html>
<head>
    <script src="http://ajax.googleapis.com/ajax/libs/jquery/2.1.1/jquery.min.js"></script>
    <script src="js/waitforimages.min.js"></script>
    <title></title>
    <style media="screen">

        .container {
            width: 208px;
            height: 93px;
            position: relative;
            margin: 0 auto 40px;
            border: 1px solid #CCC;
            -webkit-perspective: 1100px;
            -moz-perspective: 1100px;
            -o-perspective: 1100px;
            perspective: 1100px;
            overflow: hidden;
        }


        #carousel {
            width: 100%;
            height: 100%;
            position: absolute;
            -webkit-transform-style: preserve-3d;
            -moz-transform-style: preserve-3d;
            -o-transform-style: preserve-3d;
            transform-style: preserve-3d;
        }

        .ready #carousel {
            -webkit-transition: -webkit-transform 1s;
            -moz-transition: -moz-transform 1s;
            -o-transition: -o-transform 1s;
            transition: transform 1s;
        }

        #carousel.panels-backface-invisible img {
            -webkit-backface-visibility: hidden;
            -moz-backface-visibility: hidden;
            -o-backface-visibility: hidden;
            backface-visibility: hidden;
        }

        #carousel img {
            display: block;
            position: absolute;
            width: 184px;
            height: 69px;
            left: 10px;
            top: 10px;
            border: 2px solid black;
            line-height: 116px;
            font-size: 80px;
            font-weight: bold;
            color: white;
            text-align: center;
            opacity: 0;
        }

        .ready #carousel img {
            -webkit-transition: opacity 1s, -webkit-transform 1s;
            -moz-transition: opacity 1s, -moz-transform 1s;
            -o-transition: opacity 1s, -o-transform 1s;
            transition: opacity 1s, transform 1s;
        }

    </style>
</head>
<body>
<section class="container">
<div id="carousel" class="panels-backface-invisible">
    <img src="http://media.steampowered.com/steamcommunity/public/images/apps/55230/1129528455a8b297fb6404cbb90e802a62881b11.jpg" width="368" height="138" />
    <img src="http://media.steampowered.com/steamcommunity/public/images/apps/34900/95229dc8b1ad50589429b930c9a09150e24c558d.jpg" width="368" height="138" />
    <img src="http://media.steampowered.com/steamcommunity/public/images/apps/235900/e966e41f2ee435e90de5ca2eb028384a7e326833.jpg" width="368" height="138" />
    <img src="http://media.steampowered.com/steamcommunity/public/images/apps/200390/ec58f4b09ffbe30810e511ea6d609ae2c3dd96c8.jpg" width="368" height="138" />
    <img src="http://media.steampowered.com/steamcommunity/public/images/apps/12210/47fb2a3e0763be24e49662591d6e076c58b2178d.jpg" width="368" height="138" />
    <img src="http://media.steampowered.com/steamcommunity/public/images/apps/201790/c345d9b205f349f0e7f4e6cdf8af4d0b7d242505.jpg" width="368" height="138" />
    <img src="http://media.steampowered.com/steamcommunity/public/images/apps/32800/b90d899806ebaff87ed7d2cdc4d9e0a3f11b73b0.jpg" width="368" height="138" />
    <img src="http://media.steampowered.com/steamcommunity/public/images/apps/116120/5d3831b3f5346a14c9a7e60c10d3ba76ef72d978.jpg" width="368" height="138" />
    <img src="http://media.steampowered.com/steamcommunity/public/images/apps/3590/85bfe66e921d89b034a3a253fb648f1a930e034a.jpg" width="368" height="138" />
    <img src="http://media.steampowered.com/steamcommunity/public/images/apps/24780/0a0717ab709f27aea9c0c6c66846580960d41082.jpg" width="368" height="138" />
    <img src="http://media.steampowered.com/steamcommunity/public/images/apps/210170/f1d5f3a373420b9645f9cd6da5acd5292639c8eb.jpg" width="368" height="138" />
    <img src="http://media.steampowered.com/steamcommunity/public/images/apps/55230/1129528455a8b297fb6404cbb90e802a62881b11.jpg" width="368" height="138" />
    <img src="http://media.steampowered.com/steamcommunity/public/images/apps/34900/95229dc8b1ad50589429b930c9a09150e24c558d.jpg" width="368" height="138" />
    <img src="http://media.steampowered.com/steamcommunity/public/images/apps/235900/e966e41f2ee435e90de5ca2eb028384a7e326833.jpg" width="368" height="138" />
    <img src="http://media.steampowered.com/steamcommunity/public/images/apps/200390/ec58f4b09ffbe30810e511ea6d609ae2c3dd96c8.jpg" width="368" height="138" />
    <img src="http://media.steampowered.com/steamcommunity/public/images/apps/12210/47fb2a3e0763be24e49662591d6e076c58b2178d.jpg" width="368" height="138" />
    <img src="http://media.steampowered.com/steamcommunity/public/images/apps/201790/c345d9b205f349f0e7f4e6cdf8af4d0b7d242505.jpg" width="368" height="138" />
    <img src="http://media.steampowered.com/steamcommunity/public/images/apps/32800/b90d899806ebaff87ed7d2cdc4d9e0a3f11b73b0.jpg" width="368" height="138" />
    <img src="http://media.steampowered.com/steamcommunity/public/images/apps/116120/5d3831b3f5346a14c9a7e60c10d3ba76ef72d978.jpg" width="368" height="138" />
    <img src="http://media.steampowered.com/steamcommunity/public/images/apps/3590/85bfe66e921d89b034a3a253fb648f1a930e034a.jpg" width="368" height="138" />
    <img src="http://media.steampowered.com/steamcommunity/public/images/apps/24780/0a0717ab709f27aea9c0c6c66846580960d41082.jpg" width="368" height="138" />
    <img src="http://media.steampowered.com/steamcommunity/public/images/apps/210170/f1d5f3a373420b9645f9cd6da5acd5292639c8eb.jpg" width="368" height="138" />
    <img src="http://media.steampowered.com/steamcommunity/public/images/apps/55230/1129528455a8b297fb6404cbb90e802a62881b11.jpg" width="368" height="138" />
    <img src="http://media.steampowered.com/steamcommunity/public/images/apps/34900/95229dc8b1ad50589429b930c9a09150e24c558d.jpg" width="368" height="138" />
    <img src="http://media.steampowered.com/steamcommunity/public/images/apps/235900/e966e41f2ee435e90de5ca2eb028384a7e326833.jpg" width="368" height="138" />
    <img src="http://media.steampowered.com/steamcommunity/public/images/apps/200390/ec58f4b09ffbe30810e511ea6d609ae2c3dd96c8.jpg" width="368" height="138" />
    <img src="http://media.steampowered.com/steamcommunity/public/images/apps/12210/47fb2a3e0763be24e49662591d6e076c58b2178d.jpg" width="368" height="138" />
    <img src="http://media.steampowered.com/steamcommunity/public/images/apps/201790/c345d9b205f349f0e7f4e6cdf8af4d0b7d242505.jpg" width="368" height="138" />
    <img src="http://media.steampowered.com/steamcommunity/public/images/apps/32800/b90d899806ebaff87ed7d2cdc4d9e0a3f11b73b0.jpg" width="368" height="138" />
    <img src="http://media.steampowered.com/steamcommunity/public/images/apps/116120/5d3831b3f5346a14c9a7e60c10d3ba76ef72d978.jpg" width="368" height="138" />
    <img src="http://media.steampowered.com/steamcommunity/public/images/apps/3590/85bfe66e921d89b034a3a253fb648f1a930e034a.jpg" width="368" height="138" />
    <img src="http://media.steampowered.com/steamcommunity/public/images/apps/24780/0a0717ab709f27aea9c0c6c66846580960d41082.jpg" width="368" height="138" />
    <img src="http://media.steampowered.com/steamcommunity/public/images/apps/210170/f1d5f3a373420b9645f9cd6da5acd5292639c8eb.jpg" width="368" height="138" />
    <img src="http://media.steampowered.com/steamcommunity/public/images/apps/55230/1129528455a8b297fb6404cbb90e802a62881b11.jpg" width="368" height="138" />
    <img src="http://media.steampowered.com/steamcommunity/public/images/apps/34900/95229dc8b1ad50589429b930c9a09150e24c558d.jpg" width="368" height="138" />
    <img src="http://media.steampowered.com/steamcommunity/public/images/apps/235900/e966e41f2ee435e90de5ca2eb028384a7e326833.jpg" width="368" height="138" />
    <img src="http://media.steampowered.com/steamcommunity/public/images/apps/200390/ec58f4b09ffbe30810e511ea6d609ae2c3dd96c8.jpg" width="368" height="138" />
    <img src="http://media.steampowered.com/steamcommunity/public/images/apps/12210/47fb2a3e0763be24e49662591d6e076c58b2178d.jpg" width="368" height="138" />
    <img src="http://media.steampowered.com/steamcommunity/public/images/apps/201790/c345d9b205f349f0e7f4e6cdf8af4d0b7d242505.jpg" width="368" height="138" />
    <img src="http://media.steampowered.com/steamcommunity/public/images/apps/32800/b90d899806ebaff87ed7d2cdc4d9e0a3f11b73b0.jpg" width="368" height="138" />
    <img src="http://media.steampowered.com/steamcommunity/public/images/apps/116120/5d3831b3f5346a14c9a7e60c10d3ba76ef72d978.jpg" width="368" height="138" />
    <img src="http://media.steampowered.com/steamcommunity/public/images/apps/3590/85bfe66e921d89b034a3a253fb648f1a930e034a.jpg" width="368" height="138" />
    <img src="http://media.steampowered.com/steamcommunity/public/images/apps/24780/0a0717ab709f27aea9c0c6c66846580960d41082.jpg" width="368" height="138" />
    <img src="http://media.steampowered.com/steamcommunity/public/images/apps/210170/f1d5f3a373420b9645f9cd6da5acd5292639c8eb.jpg" width="368" height="138" />

</div>

</section>

<script src="js/modernizr.js"></script>
<script>
    var transformProp = Modernizr.prefixed('transform');

    function Carousel3D ( el ) {
        this.element = el;

        this.rotation = 0;
        this.panelCount = 0;
        this.theta = 0;
        this.speed = 1;
    }

    Carousel3D.prototype.modify = function() {

        var panel, angle, i;

        this.panelSize = this.element['offsetWidth'];
        this.rotateFn = 'rotateY';
        this.theta = 360 / this.panelCount;

        // do some trig to figure out how big the carousel
        // is in 3D space
        this.radius = Math.round( ( this.panelSize / 2) / Math.tan( Math.PI / this.panelCount ) );

        theta_pass = this.theta;
        radius_pass = this.radius;
        rotateFn_pass = this.rotateFn;
        speed_pass = this.speed;

        $(this.element).children().each(function(i, panel) {
            angle = theta_pass * i;
            // rotate panel, then push it out in 3D space
            $(panel).css(transformProp, rotateFn_pass + '(' + angle + 'deg) translateZ(' + radius_pass + 'px)');
        });

        // adjust rotation so panels are always flat
        this.rotation = Math.round( this.rotation / this.theta ) * this.theta;

        this.transform();

    };

    Carousel3D.prototype.transform = function() {
        // push the carousel back in 3D space,
        // and rotate it
        $(this.element).css(transformProp, 'translateZ(-' + this.radius + 'px) ' + this.rotateFn + '(' + this.rotation + 'deg)');
    };



    var init = function() {
        var carousel = new Carousel3D( document.getElementById('carousel') );


        // populate on startup
        carousel.panelCount = $('#carousel').find('img').length
        carousel.modify();


        $('body').addClass('ready');

        var t_interval = 1;
        var transforms = 0;

        var last_interval = 200;

        var inertia_factor = 0.00003;
        var inertia_dampening = 0.0;

        var slow_factor = 50;

        var timeoutfunc = function() {
            carousel.rotation -= carousel.theta;
            carousel.transform();

            inertia_dampening = (1.01 * inertia_dampening) + (slow_factor * slow_factor * inertia_factor);

            t_interval = (last_interval - (last_interval - (t_interval * 1 + inertia_dampening)));

            transforms++;
            carousel.speed = (last_interval - (last_interval - (t_interval * 1 + inertia_dampening)));

            console.log(transforms);
            if (t_interval < last_interval) {
                setTimeout(timeoutfunc, t_interval)
            } else {
                $('#gametitle').css('opacity', 1);
                $('#players').css('opacity', 1);
            }
        };
        $(carousel.element).waitForImages(function() {
            $(carousel.element).children().css('opacity', 1);
            timeoutfunc();
        });


    };

    $(document).ready(init());
</script>
</body>
</html>
